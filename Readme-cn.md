# Simx 流引擎

> Eyre Simpson（Noah Jones）
>
> 初步开发：2021年02月13日
> 
> 最后更新：2024年08月09日
>
> **遵循 MIT 开源协议**

## 介绍
simx是一个精简的流引擎，名称来源于作者的宠物名称缩写，主要应用于数据处理、用户操作封装、用户操作自动化等场景。它本身没有界面，是一个命令行（shell）工具，但系统对外提供了api，
允许用户在其上封装一层UI界面，后续通过Simx UI项目（Flutter）实现流设计的工作。

在simx中，流（Flow）的概念就是一系列操作（Handle）的集合，操作可以是系统预制的一些操作，或者一个shell/powershell/cmd/python脚本，也可以是一个jar/dll/so中的方法，
总之，流本身就是由操作组成的业务逻辑，simx的设计思路是所有非必须的功能尽可能拆分出去，作为独立的插件，用户需要使用可以将其引入到系统中，主项目中仅保留最小可运行部分，其余均作为插件形式注入

## 使用

simx支持大多数操作系统，目前测试的环境包括windows 10/11, macos, linux(ubuntu/centos)。

可以直接运行dist下的simx可执行文件即可，正常情况下不会显示，会自动开启后台监听（默认对9898端口进行监听）

系统启动时会自动运行位于script下init目录下的流和脚本（作为初始化内容），系统的脚本和流程分别存放在同级目录下的flow和script，需要注意的是，
系统会在初次启动时，主动扫描该文件夹下的文件并存入数据库，以供api调用时使用，因此尽可能不要手动添加或删除这些内容，当然系统也提供了手动刷新数据库的操作，
可以在调用api时事先同步一下文件夹和数据库，以避免数据不同步的情况。

建议将程序部署在读取/写入速度较快的硬盘中，一般高并发场景不建议使用机械硬盘，如果没有持久化的场景需求，可以在配置中开启纯内存模式，可以提升非常大的运行效率

## 后续计划

- 完成插件化
- 拆分出监听模块（Http监听）
- 拆分出脚本执行模块（作为独立功能承载）
- 完善simx-core部分
- 完善simx-ui部分
- 完善基础的随附操作

## 随附操作（default handle）

### 基础文件

#### 文件读取（二进制）

#### 文件写入（二进制）

#### 文件删除

#### 文件移动

#### 文件重命名

#### 文件克隆（复制）

#### 文件压缩

#### 文件信息

### 基础系统

#### 操作系统信息

#### 屏幕信息（显示器）

#### 硬件信息

#### 执行命令

#### 执行脚本

### 基础网络

#### 连通测试（Ping）

#### Restful请求发起（Get、Post、Put、Delete）

#### HttpRequest（原生Http请求）

#### Socket（TCP）请求

### 基础数学

#### 基础运算（加减乘除取余等）

#### 逻辑运算

#### 聚合运算（最大、最小、平均值等）

### 其他

## simx系列项目

### simx-engine

【已开源】

当前项目也称为simx-engine，负责运行与管理流和相关的插件

### simx-core

【已开源】

扩展了系统随附的功能，一般没有特殊要求（最小安装），默认都建议附带此插件

### simx-ui

【开发中】

通过flutter开发的流设计UI，用于通过图形化的方式设计流以及对simx-engine进行管理

### simx-math

【开发中】

数学扩展功能组件，增加数学处理能力

### simx-net

【开发中】

网络扩展功能插件，增加网络通讯处理能力

### simx-db

【开发中】

数据库扩展功能插件，可对多种常见数据库进行扩展使用，此插件计划支持以下的数据库：

- mysql
- sqlserver
- oracle

### simx-file

【开发中】

文件扩展组件，可以初步的对json、xml、ymal、toml等常见格式的文件进行处理

### simx-img

【开发中】

图片处理组件，可以初步对图片进行压缩、裁剪、旋转等操作（待完善）

## 应用

### 数据转换（中转）

可以通过特定的开始节点（数据源节点）和结束节点（数据终端节点），实现数据的流入、操作和流出

### 自动化操作

可以通过系统预置的功能或插件接受外部的指令或监听某些信号（如时间、文件或文件夹变动、restful、socket等），并执行相应的流程和动作

### 定时任务

程序可以根据CRON规则，实现定时任务

### 远程管理

允许通过脚本和流程，实现服务器上环境的实时控制
