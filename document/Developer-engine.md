# 开发者文档

> 文档版本：v0.0.1
> 
> 更新日期：2024-08-14
> 

## 1. 概述

本文档介绍如何对simx进行二次开发，如果仅需要为其开发插件，请参考同目录下的Plugin.md文档

### 插件、扩展、接入器

#### 引擎插件（plugin）

插件是指simx引擎的功能延展，比如允许引擎开启restful服务，插件一般拥有独立的配置，一般是一个动态链接库，默认存放于ext/plugin文件夹下

#### 功能扩展（handler）

扩展是指对handler的扩充，比如对数据库操作的支持，默认存放于ext/handler文件夹中

引擎默认的handler库内置了部分常用的handler，已内置到引擎中。

默认情况下，功能扩展需要配置，才能被引擎识别

#### 引擎接入器（accessor）

接入器可以允许引擎解析其他编程语言的库，如jar等，默认存放于ext/accessor文件夹中

虽然功能扩展也可以访问其他语言的库，但功能扩展对库的格式有一定的要求，而接入器并没有此要求，这也是两者间的主要区别

## 2. 项目结构

节点通用属性（Attr）：

**node_id**

节点的唯一ID，在流程中需要唯一

**node_index**

节点索引，由系统管理

**node_name**

节点的显示名称，应用于设计器

**node_type**

节点的类型

**ignore**

忽略类型，此配置会反应到日志上，具有以下选项：

- none：不忽略
- info：忽略一般执行的消息
- warn：忽略警告消息
- err：忽略报错，即使节点报错也不会引起流退出
- all：忽略所有

**crowd**

节点群处理方式，包含以下选项：

- single：单节点处理，节点处理结束后，会进入下一个节点
- crowd：节点线程群，通过创建线程，并行处理节点的任务
- remote：将溢出的任务交给远程simx实例处理

**retries**

节点错误时重试次数，默认为0，表示不重试

- -1：始终重试，直到成功
- 0：不重试
- **> 0**：重试次数